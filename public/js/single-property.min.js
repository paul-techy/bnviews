"use strict";function price_calculation(e,t,a){e=""!=e?e:$("#startDate").val(),t=""!=t?t:$("#endDate").val(),a=""!=a?a:$("#number_of_guests").val();if(""!=e&&""!=t&&""!=a){var n=$("#property_id").val(),o=getPriceURL;$.ajax({url:o,data:{_token:token,checkin:e,checkout:t,guest_count:a,property_id:n},type:"post",dataType:"json",beforeSend:function(){show_loader()},success:function(e){if($(".append_date").remove(),"Not available"==e.status)$(".book_btn , .booking-subtotal").addClass("d-none"),$("#book_it_disabled").removeClass("d-none"),$("#book_it_disabled_message").text(e.message);else if("minimum stay"==e.status)$(".book_btn, .booking-subtotal, #book_it_disabled").addClass("d-none"),$("#minimum_disabled").removeClass("d-none"),$("#minimum_disabled_message").text(e.minimum);else{if(jQuery.isEmptyObject(e.different_price_dates))$("#custom_price").addClass("d-none");else{var t=customPriceText+"<br/>";for(var a in e.different_price_dates)t+=dateText+": "+a+" | "+priceText+": "+symbolText+e.different_price_dates[a]+" <br>";$("#custom_price").attr("data-original-title",t),$("#custom_price").tooltip({placement:"top"}),$("#custom_price").show()}for(var n="",o=0;o<e.date_with_price.length;o++)n+='<tr class="append_date"><td class="pl-4">'+e.date_with_price[o].date+'</td><td class="pl-4 text-right"> <span  id="" value="">'+e.date_with_price[o].price+"</span></td></tr>";$("table tbody").first().prepend(n),$(".additional_price, .security_price, .cleaning_price, .iva_tax, .accomodation_tax").removeClass("d-none"),$("#total_night_count").html(e.total_nights),$("#total_night_price").html(e.total_night_price_with_symbol),$("#service_fee").html(e.service_fee_with_symbol),$("#discount").html(e.discount_with_symbol),0!=e.iva_tax?$("#iva_tax").html(e.iva_tax_with_symbol):$(".iva_tax").addClass("d-none"),0!=e.accomodation_tax?$("#accomodation_tax").html(e.accomodation_tax_with_symbol):$(".accomodation_tax").addClass("d-none"),0!=e.additional_guest?$("#additional_guest").html(e.additional_guest_fee_with_symbol):$(".additional_price").addClass("d-none"),0!=e.security_fee?$("#security_fee").html(e.security_fee_with_symbol):$(".security_price").addClass("d-none"),0!=e.cleaning_fee?$("#cleaning_fee").html(e.cleaning_fee_with_symbol):$(".cleaning_price").addClass("d-none"),$("#total").html(e.total_with_symbol),$(".booking-subtotal").removeClass("d-none"),$("#book_it_disabled, #minimum_disabled").addClass("d-none"),$(".book_btn").removeClass("d-none")}"1"==host&&$(".book_btn").addClass("d-none")},error:function(e,t){},complete:function(){$(".price_table").removeClass("d-none"),hide_loader()}})}}function setCircle(e){new google.maps.Circle({strokeColor:"#329793",strokeOpacity:.8,strokeWeight:2,fillColor:"#329793",fillOpacity:.35,map:e,center:{lat:latitude,lng:longitude},radius:240})}function lightbox(e){$("#showSlider").removeClass("d-none"),nslider.init(e),$("#ninja-slider").addClass("fullscreen")}function fsIconClick(e){e&&$("#showSlider").addClass("d-none")}function show_loader(){$("#loader").removeClass("d-none"),$("#pagination").addClass("d-none")}function hide_loader(){$("#loader").addClass("d-none"),$("#pagination").removeClass("d-none")}$((function(){var e=$("#startDate").val(),t=$("#endDate").val();dateRangeBtn(e,t,"single",dateFormat)})),$("#view-calendar").on("click",(function(){return $("#startDate").trigger("select")})),$((function(){price_calculation($("#url_checkin").val(),$("#url_checkout").val(),$("#url_guests").val())})),$("#number_of_guests").on("change",(function(){price_calculation("","","")})),$("#save_btn").on("click",(function(e){$("#save_btn").attr("disabled",!0),$(".spinner").removeClass("d-none"),$("#booking_form").submit()})),window.onbeforeunload=function(e){back?($("#save_btn").attr("disabled",!1),$(".spinner").addClass("d-none"),back=0):back++},$(".more-btn").on("click",(function(){var e=$(this).attr("data-rel");$("#"+e+"_trigger").addClass("d-none"),$("#"+e+"_after").removeClass("d-none")})),$(".more-btn-mobile").on("click",(function(){var e=$(this).attr("data-rel");$("#"+e+"_trigger_mobile").addClass("d-none"),$("#"+e+"_after_mobile").removeClass("d-none")})),$(".less-btn").on("click",(function(){var e=$(this).attr("data-rel");$("#"+e+"_trigger").removeClass("d-none"),$("#"+e+"_after").addClass("d-none")})),$(".less-btn-mobile").on("click",(function(){var e=$(this).attr("data-rel");$("#"+e+"_trigger_mobile").removeClass("d-none"),$("#"+e+"_after_mobile").addClass("d-none")})),setTimeout((function(){$("#room-detail-map").locationpicker({location:{latitude:latitude,longitude:longitude},radius:0,addressFormat:"",markerVisible:!1,markerInCenter:!1,enableAutocomplete:!0,scrollwheel:!1,oninitialized:function(e){setCircle($(e).locationpicker("map").map)}})}),5e3),window.twttr=function(e,t,a){var n,o=e.getElementsByTagName(t)[0],i=window.twttr||{};return e.getElementById(a)||((n=e.createElement(t)).id=a,n.src="https://platform.twitter.com/widgets.js",o.parentNode.insertBefore(n,o),i._e=[],i.ready=function(e){i._e.push(e)}),i}(document,"script","twitter-wjs");